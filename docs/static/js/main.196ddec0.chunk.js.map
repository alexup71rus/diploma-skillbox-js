{"version":3,"sources":["serviceWorker.js","reducers/index.js","helpers.js","apis/unsplash.js","components/header/index.js","components/popup/index.js","actions/index.js","containers/home/index.js","containers/authpage/index.js","router.js","index.js","img/svg/61731.svg","img/svg/291212.svg","img/svg/logo2.svg","img/svg/close.svg","img/svg/126488.svg","img/svg/MaskFigureUnregister2.svg"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","reducers","arguments","length","undefined","action","newState","Object","objectSpread","type","user_info","info","images","concat","toConsumableArray","map","image","i","id","liked_by_user","likes","popup_image","keys","arr","item","index","settings","getCookie","name","matches","document","cookie","RegExp","replace","decodeURIComponent","setCookie","value","options","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","DEFS","unsplash","Unsplash","applicationId","secret","callbackUrl","getToken","code","auth","setBearerToken","userAuthentication","res","text","localStorage","date","setDate","getDate","JSON","parse","access_token","getPhotos","start","end","photos","listPhotos","errors","likePhoto","unlikePhoto","Header","_ref","changeSettingsAction","linkSelf","links","html","react_default","a","createElement","className","href","src","logo","width","height","alt","style","color","fontSize","role","data-toggle","aria-haspopup","aria-expanded","first_name","right","left","aria-labelledby","target","rel","marginLeft","defaultChecked","onChange","ev","result","newSettings","stringify","htmlFor","blur","matchMedia","deferredPrompt","onClick","install","setItem","assign","preventDefault","Popup","_this$props","this","props","route","popupImageAction","likeImageAction","changePhoto","querySelector","classList","add","body","overflow","Link","to","closeSVG","tabIndex","onKeyDown","e","user","profile_image","small","username","download","downloadSVG","liked","like","urls","regular","remove","updated_at","getPhoto","pathname","split","json","React","Component","setMyInfoAction","indexImages","loadingImages","debounce","asyncToGenerator","regenerator_default","mark","_callee","addImagesAction","scrolled","wrap","_context","prev","next","pageYOffset","documentElement","scrollTop","innerHeight","clientHeight","sent","stop","_x","_x2","_x3","apply","Home","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","key","newID","newImage","history","push","_this","onscroll","Route","path","render","components_popup","lib_default","elementType","transitionDuration","originTop","fitWidth","disableImagesLoaded","liked_by","minHeight","minWidth","backgroundColor","connect","dispatch","UnregisterPage","authenticationUrl","getAuthenticationUrl","authenticationUnsplash","maskFigure","App","routeLocation","onkeyup","token","data","search","currentUser","profile","getAsync","components_header","exact","containers_home","containers_authpage","status","store","createStore","es","BrowserRouter","router","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.196ddec0.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const reducers = (state = [], action) => {\r\n    let newState = {...state};\r\n    switch (action.type) {\r\n        case 'SET_MY_INFO':\r\n        newState.user_info = action.info;\r\n        return {...newState};\r\n\r\n        case 'ADD_IMAGES':\r\n        newState.images = [...state.images, ...action.images];\r\n        return {...newState};\r\n\r\n        case 'TOGGLE_LIKE':\r\n        newState.images = state.images.map((image, i)=>{\r\n            if(i === action.id){\r\n                if (image.liked_by_user == true) {\r\n                    image.liked_by_user = false;\r\n                    image.likes--;\r\n                } else if (image.liked_by_user == false) {\r\n                    image.liked_by_user = true;\r\n                    image.likes++;\r\n                }\r\n                return image;\r\n            }\r\n            return image;\r\n        });\r\n        return {...newState};\r\n\r\n        case 'POPUP_IMAGE':\r\n        newState.popup_image = {\r\n            id: action.id,\r\n            state: action.state,\r\n            image: action.image\r\n        };\r\n        return {...newState};\r\n\r\n        case 'CHANGE_SETTINGS':\r\n        Object.keys(action.arr).map((item, index) => {\r\n            if (newState.settings[item] !== undefined) {\r\n                newState.settings[item] = action.arr[item];\r\n            }\r\n        });\r\n        return {...newState};\r\n\r\n        default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default reducers;","export function getCookie(name) {\r\n    var matches = document.cookie.match(new RegExp(\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"));\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nexport function setCookie(name, value, options) {\r\n    options = options || {};\r\n\r\n    var expires = options.expires;\r\n\r\n    if (typeof expires == \"number\" && expires) {\r\n        var d = new Date();\r\n        d.setTime(d.getTime() + expires * 1000);\r\n        expires = options.expires = d;\r\n    }\r\n    if (expires && expires.toUTCString) {\r\n        options.expires = expires.toUTCString();\r\n    }\r\n\r\n    value = encodeURIComponent(value);\r\n\r\n    var updatedCookie = name + \"=\" + value;\r\n\r\n    for (var propName in options) {\r\n        updatedCookie += \"; \" + propName;\r\n        var propValue = options[propName];\r\n        if (propValue !== true) {\r\n            updatedCookie += \"=\" + propValue;\r\n        }\r\n    }\r\n\r\n    document.cookie = updatedCookie;\r\n}\r\n\r\nexport function deleteCookie(name) {\r\n    setCookie(name, \"\", {\r\n      expires: -1\r\n    })\r\n}\r\n\r\nexport function invertColor(rColor) {\r\n    return (parseInt(rColor, 20) ^ 0xFFFFFF | 0x1000000).toString(16).substring(1);\r\n}","import Unsplash from 'unsplash-js';\r\nimport { getCookie, setCookie } from '../helpers';\r\n\r\nconst DEFS = {\r\n    accessKey: \"2e0b887662588b73126393d4d2621056982214f0414d16a8434a7e2386466cc7\",\r\n    secretkey: \"569797e0eaec6cd9a46412ef0043b548c87e1ae6ad7ca45e8147aa5fe0cacda3\",\r\n    callbackUrl: \"http://cdn.khodyr.ru/any/unsplash.php\"\r\n}\r\n\r\n// Инициализация\r\nexport const unsplash = new Unsplash({\r\n    applicationId: DEFS.accessKey,\r\n    secret: DEFS.secretkey,\r\n    callbackUrl: DEFS.callbackUrl\r\n});\r\n\r\nexport const authenticationUnsplash = (unsplash) => {\r\n    // Генерирует ссылку для авторизации с указанными правами\r\n    const authenticationUrl = unsplash.auth.getAuthenticationUrl([\r\n        \"public\",\r\n        \"write_likes\"\r\n    ]);\r\n\r\n    window.location.assign(authenticationUrl); // Перенапревление на авторизацию в unsplash\r\n}\r\n\r\nexport const getToken = (unsplash, code) => {\r\n    if (getCookie(\"token\")) {\r\n        return unsplash.auth.setBearerToken(getCookie(\"token\"));\r\n    } else if (code) {\r\n        return unsplash.auth.userAuthentication(code)\r\n            .then(res => res.text())\r\n            .then(res => {\r\n                if (res && res != \"Rate Limit Exceeded\") {\r\n                    window.localStorage['keycode'] = code;\r\n                    let date = new Date;\r\n                    date.setDate(date.getDate() + 1);\r\n                    setCookie(\"token\", JSON.parse(res).access_token, {\r\n                        expires: date.toUTCString()\r\n                    });\r\n                    unsplash.auth.setBearerToken(JSON.parse(res).access_token);\r\n                } else { console.error(\"Лимит запросов исчерпан!\"); }\r\n        });\r\n    }\r\n}\r\n\r\nexport const getUser = (unsplash) => {\r\n    return unsplash.currentUser.profile()\r\n      .then(res => res.text())\r\n      .then(res => {\r\n        if (res && res != \"Rate Limit Exceeded\" && !JSON.parse(res).errors) { return JSON.parse(res); }\r\n        else { console.error(\"Лимит запросов исчерпан!\"); }\r\n      })\r\n}\r\n  \r\nexport const getPhotos = (unsplash, start = 1, end = 15) => {\r\n    return (\r\n      unsplash.photos.listPhotos(start, end, 'latest')\r\n        .then(res => res.text())\r\n        .then(res => {\r\n            if (res != \"Rate Limit Exceeded\" && !JSON.parse(res).errors) { return JSON.parse(res); }\r\n            else { console.error(\"Лимит запросов исчерпан!\"); }\r\n        })\r\n    )\r\n}\r\n  \r\nexport const likePhoto = (unsplash, image) => {\r\n    if (image.liked_by_user === true) {\r\n        return (\r\n            unsplash.photos.unlikePhoto(image.id)\r\n              .then(res => res.text())\r\n              .then(res => {\r\n                  if (res != \"Rate Limit Exceeded\" && !JSON.parse(res).errors) { return JSON.parse(res); }\r\n                  else { console.error(\"Лимит запросов исчерпан!\"); }\r\n              })\r\n          )\r\n    } else if (image.liked_by_user === false) {\r\n        return (\r\n            unsplash.photos.likePhoto(image.id)\r\n              .then(res => res.text())\r\n              .then(res => {\r\n                  if (res != \"Rate Limit Exceeded\" && !JSON.parse(res).errors) { return JSON.parse(res); }\r\n                  else { console.error(\"Лимит запросов исчерпан!\"); }\r\n              })\r\n          )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './index.scss';\r\nimport logo from '../../img/svg/logo2.svg';\r\nimport { deleteCookie } from '../../helpers';\r\n\r\nconst Header = ({ state, changeSettingsAction }) => {  \r\n  if (state && state.user_info){\r\n    let linkSelf = state.user_info.links?state.user_info.links.html:'#';\r\n    return <header className=\"app-header\">\r\n      <nav className=\"navbar navbar-light bg-light\">\r\n        <a className=\"navbar-brand\" href=\"#\">\r\n          <img src={logo} width=\"30\" height=\"30\" className=\"d-inline-block align-top\" alt=\"\" /> <span className=\"logo-text\">UNSPLASH</span> <span style={{color: \"#999\", fontSize: \"13px\"}}>viewer</span>\r\n        </a>\r\n        <li className=\"nav-item dropdown\">\r\n          <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdownMenuLink\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n            <span className=\"username\">{state.user_info.first_name}</span>\r\n          </a>\r\n          <div className=\"dropdown-menu dropdown-menu-right\" style={{right: '0px', width: '225px', left: 'auto'}} aria-labelledby=\"navbarDropdownMenuLink\">\r\n            <a className=\"dropdown-item\" href={linkSelf} target=\"_blank\" rel=\"noopener noreferrer\">Профиль</a>\r\n            <div className=\"dropdown-divider\"></div>\r\n            <h6 className=\"dropdown-header\">Настройки</h6>\r\n            <div style={{marginLeft: '10px'}}>\r\n              <div className=\"custom-control custom-checkbox\">\r\n                <input type=\"checkbox\" className=\"custom-control-input\" id=\"dateSet\" defaultChecked={state.settings.date} onChange={ev=>{\r\n                  const result = !state.settings.date;\r\n                  changeSettingsAction({date: result});\r\n                  const newSettings = JSON.parse(window.localStorage[\"settings\"]);\r\n                  newSettings[\"date\"] = result;\r\n                  window.localStorage[\"settings\"] = JSON.stringify(newSettings);\r\n                }} />\r\n                <label className=\"custom-control-label\" htmlFor=\"dateSet\">Показывать дату</label>\r\n              </div>\r\n              <div className=\"custom-control custom-checkbox\">\r\n                <input type=\"checkbox\" className=\"custom-control-input\" id=\"blurSet\" defaultChecked={state.settings.blur} onChange={ev=>{\r\n                  const result = !state.settings.blur;\r\n                  changeSettingsAction({blur: !state.settings.blur});\r\n                  const newSettings = JSON.parse(window.localStorage[\"settings\"]);\r\n                  newSettings[\"blur\"] = result;\r\n                  window.localStorage[\"settings\"] = JSON.stringify(newSettings);\r\n                }} />\r\n                <label className=\"custom-control-label\" htmlFor=\"blurSet\">Размытие фона popup</label>\r\n              </div>\r\n            </div>\r\n            {\r\n              !window.matchMedia('(display-mode: standalone)').matches && 'serviceWorker' in navigator && window.deferredPrompt\r\n                ? (<button className=\"dropdown-item\" onClick={() => {\r\n                    window.install();\r\n                  }}>Установить</button>)\r\n                : null\r\n            }\r\n            <div className=\"dropdown-divider\"></div>\r\n            <a className=\"dropdown-item\" href=\"/\" onClick={ev=>{\r\n                  deleteCookie('token');\r\n                  window.localStorage.setItem('user', '');\r\n                  window.location.assign('/');\r\n                }}>Выйти</a>\r\n          </div>\r\n        </li>\r\n      </nav>\r\n    </header>;\r\n  } else {\r\n    return <header className=\"app-header\">\r\n      <nav className=\"navbar navbar-light bg-light\">\r\n        <a className=\"navbar-brand\" href=\"#\" onClick={ev=>ev.preventDefault()}>\r\n          <img src={logo} width=\"30\" height=\"30\" className=\"d-inline-block align-top\" alt=\"\" /> <span className=\"logo-text\">UNSPLASH</span> <span style={{color: \"#999\", fontSize: \"13px\"}}>viewer</span>\r\n        </a>\r\n      </nav>\r\n    </header>;\r\n  }\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport { unsplash } from '../../apis/unsplash';\r\nimport closeSVG from '../../img/svg/close.svg';\r\nimport downloadSVG from '../../img/svg/126488.svg';\r\nimport like from '../../img/svg/61731.svg';\r\nimport liked from '../../img/svg/291212.svg';\r\nimport './index.scss';\r\n\r\nclass Popup extends React.Component {\r\n    render() {\r\n        const { route, state, popupImageAction, likePhoto, likeImageAction, changePhoto } = this.props;\r\n        if (document.querySelector('.photos-grid-view') && state.settings.blur) {\r\n            document.querySelector('.photos-grid-view').classList.add('blur');\r\n            document.querySelector('.navbar').classList.add('blur');\r\n        }\r\n        document.body.style.overflow = 'hidden';\r\n        if (state.popup_image.id > -1) {\r\n            return <div className=\"popup\">\r\n                <Link to=\"/\">\r\n                    <div className=\"bg-popup\"></div>\r\n                </Link>\r\n                <div className=\"popup-component\">\r\n                    <Link to=\"/\">\r\n                        <div className=\"close-popup-bg\"></div>\r\n                        <img src={closeSVG} alt=\"close button\" className=\"close-btn\"  />\r\n                    </Link>\r\n                    <div className=\"popupContainer\" tabIndex={99} onKeyDown={(e) => changePhoto(e)}>\r\n                        <div className=\"popup_header\">\r\n                            <div className=\"popup_user-card\">\r\n                                <img src={state.popup_image.image.user.profile_image.small} alt=\"popup image\" className=\"popup_profile-image\" />\r\n                                <div className=\"popup_profile-links\">\r\n                                    <b className=\"popup_user-card__user-name\"> {state.popup_image.image.user.name}</b>\r\n                                    <br/>\r\n                                    <b> <a href={state.popup_image.image.user.links.html} target=\"_blank\" rel=\"noopener noreferrer\" className=\"popup_user-card__user-login\">@{state.popup_image.image.user.username}</a></b>\r\n                                </div>\r\n                            </div>\r\n                            <a href={state.popup_image.image.links.download} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                <img src={downloadSVG} alt=\"\" className=\"download\" />\r\n                            </a>\r\n                            <button className=\"like-button popup-like\" onClick={ev=>{\r\n                                likePhoto(unsplash, state.popup_image.image);\r\n                                likeImageAction(unsplash, state.popup_image.id, state.popup_image.image)}\r\n                            }>\r\n                                <img src={state.popup_image.image.liked_by_user?liked:like} alt=\"like\" className=\"like-small\" />\r\n                                <span className=\"likes\">{state.popup_image.image.likes}</span>\r\n                            </button>\r\n                        </div>\r\n                        <img src={state.popup_image.image.urls.regular} alt=\"\" className=\"image i-max\" onClick={ev=>{\r\n                            if(ev.target.classList[1] == 'i-max') {\r\n                                ev.target.classList.remove('i-max');\r\n                                ev.target.classList.add('i-min');\r\n                            } else if (ev.target.classList[1] == 'i-min') {\r\n                                ev.target.classList.remove('i-min');\r\n                                ev.target.classList.add('i-max');\r\n                            }\r\n                        }} />\r\n                        {state.settings.date?<div className=\"popup_date-owner\">{state.popup_image.image.updated_at}</div>:null}\r\n                    </div>\r\n                </div>\r\n            </div>;\r\n        } else {\r\n            if (state.popup_image.id == -1) {\r\n                popupImageAction(-2, {/* state */}, {});\r\n                unsplash.photos.getPhoto(route.location.pathname.split('/')[2])\r\n                .then(res => res.json())\r\n                .then(json => {\r\n                    popupImageAction(state.images.length, {/* state */}, json);\r\n                });\r\n            }\r\n            return <div className=\"popup\" onKeyDown={changePhoto}>\r\n                <div className=\"loading bg-popup\">\r\n                    <Link to=\"/\" className=\"btn btn-outline-primary btn-cancel\">Отменить</Link>\r\n                </div>\r\n            </div>;\r\n        }\r\n    }\r\n}\r\n\r\nexport default Popup;","export const setMyInfoAction = (info) => {\r\n    return {\r\n        type: 'SET_MY_INFO',\r\n        info: info\r\n    }\r\n}\r\n\r\nexport const addImagesAction = (images) => {\r\n    return {\r\n        type: 'ADD_IMAGES',\r\n        images: images\r\n    }\r\n}\r\n\r\nexport const likeImageAction = (unsplash, id, image) => {\r\n    return {\r\n        type: 'TOGGLE_LIKE',\r\n        id: id,\r\n        unsplash: unsplash,\r\n        image: image,\r\n    }\r\n}\r\n\r\nexport const popupImageAction = (id, state, image) => {\r\n    return {\r\n        type: 'POPUP_IMAGE',\r\n        id: id,\r\n        state: state,\r\n        image: image\r\n    }\r\n}\r\n\r\nexport const changeSettingsAction = (arr) => {\r\n    return {\r\n        type: 'CHANGE_SETTINGS',\r\n        arr: arr\r\n    }\r\n}","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport { connect, Provider } from 'react-redux';\r\nimport Masonry from 'react-masonry-component';\r\nimport Popup from '../../components/popup/index';\r\nimport './index.scss';\r\nimport like from '../../img/svg/61731.svg';\r\nimport liked from '../../img/svg/291212.svg';\r\nimport { getPhotos, likePhoto, unsplash } from '../../apis/unsplash';\r\nimport { addImagesAction, likeImageAction, popupImageAction, setMyInfoAction } from '../../actions/index';\r\nimport { invertColor } from '../../helpers';\r\n\r\nlet indexImages = 1;\r\nlet loadingImages = false;\r\nconst debounce = async (addImagesAction, unsplash, state) => {\r\n    let scrolled = window.pageYOffset || document.documentElement.scrollTop;\r\n    if (window.innerHeight + scrolled >= document.body.clientHeight - 300) {\r\n        if(!loadingImages) {\r\n            loadingImages = true;\r\n            const res = await getPhotos(unsplash, indexImages, 20);\r\n            if (res && Object.keys(res).length) {\r\n                indexImages++;\r\n                addImagesAction(res);\r\n                loadingImages = false;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass Home extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n    }\r\n\r\n    changePhoto(e) {\r\n        if (this.props.state.popup_image.id >= 0) {\r\n            if (e.key == \"ArrowRight\") {\r\n                if (this.props.state.images.length - 1 > this.props.state.popup_image.id) {\r\n                    const newID = this.props.state.popup_image.id + 1;\r\n                    const newImage = this.props.state.images[newID];\r\n                    if (newImage) {\r\n                        this.props.route.history.push('/image/' + this.props.state.images[newID].id);\r\n                        this.props.state.popup_image.id = newID;\r\n                        this.props.state.popup_image.image = newImage;\r\n                    }\r\n                }\r\n            } else if (e.key == \"ArrowLeft\") {\r\n                if (this.props.state.popup_image.id > 0) {\r\n                    const newID = this.props.state.popup_image.id - 1;\r\n                    const newImage = this.props.state.images[newID];\r\n                    if (newImage) {\r\n                        this.props.route.history.push('/image/' + this.props.state.images[newID].id);\r\n                        this.props.state.popup_image.id = newID;\r\n                        this.props.state.popup_image.image = newImage;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { state, route, addImagesAction, popupImageAction, likeImageAction, changePhoto } = this.props;\r\n        if (!Object.keys(state.user_info).length) {\r\n            setMyInfoAction(JSON.parse(window.localStorage['user']));\r\n        }\r\n        if (state.images.length === 0) {\r\n            debounce(addImagesAction, unsplash, state);\r\n        }\r\n        window.onscroll = function() {\r\n            debounce(addImagesAction, unsplash, state);\r\n        }\r\n    \r\n        if(document.querySelector('.photos-grid-view')) {\r\n            document.querySelector('.photos-grid-view').classList.remove('blur');\r\n            document.querySelector('.navbar').classList.remove('blur');\r\n        }\r\n        document.body.style.overflow = 'overlay';\r\n        return <div className=\"home-container\" onKeyDown={(e) => this.changePhoto(e)}>\r\n            <Route path=\"/:image\" render={(ev) => <Popup route={ev} state={state} popupImageAction={popupImageAction} likePhoto={likePhoto} likeImageAction={likeImageAction} changePhoto={(e) => this.changePhoto(e)} /> } />\r\n            <Masonry\r\n                className={ 'photos-grid-view' }\r\n                elementType={'div'}\r\n                options={{ transitionDuration: 0, originTop: true, fitWidth: true }}\r\n                disableImagesLoaded={false}\r\n            >\r\n                {\r\n                    state.images.map((image, i)=>{\r\n                        let liked_by = image.liked_by_user?liked:like;\r\n                        return <figure key={i} className=\"figure\" style={{minHeight: 195}}>\r\n                            <Link to={\"/image/\" + image.id}>\r\n                                <img src={image.urls.small} className=\"figure-img img-fluid rounded\" alt=\"image\" style={{minHeight: '195px', minWidth: '100%', backgroundColor: image.color}} onClick={ev=>popupImageAction(i, {/* state */}, image)}/>\r\n                            </Link>\r\n                            {\r\n                                state.settings.date ? <span className=\"owner-date\">{image.updated_at}</span> : null\r\n                            }\r\n                            <figcaption className=\"figure-caption text-right\">\r\n                                <a href={image.user.links.html} target=\"_blank\" rel=\"noopener noreferrer\" className=\"owner\"><b>{image.user.name}</b></a>\r\n                                <button className=\"like-button\" onClick={ev=>{\r\n                                    likePhoto(unsplash, image);\r\n                                    likeImageAction(unsplash, i, image);\r\n                                }}>\r\n                                    <img src={liked_by} alt=\"\" className=\"like-small\"/>\r\n                                    <span className=\"likes\">{image.likes}</span>\r\n                                </button>\r\n                            </figcaption>\r\n                        </figure>;\r\n                    })\r\n                }\r\n            </Masonry>\r\n            </div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      state: state,\r\n    }\r\n  }\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addImagesAction: (images) => {\r\n            dispatch(addImagesAction(images));\r\n        },\r\n        popupImageAction: (id, state, image) => {\r\n            dispatch(popupImageAction(id, state, image));\r\n        },\r\n        likeImageAction: (unsplash, id, image) => {\r\n            dispatch(likeImageAction(unsplash, id, image));\r\n        }\r\n    }\r\n}\r\n  \r\nHome = connect(mapStateToProps, mapDispatchToProps)(Home);\r\n\r\nexport default Home;\r\n\r\n","import React, { Component } from 'react';\r\nimport './index.scss';\r\nimport maskFigure from '../../img/svg/MaskFigureUnregister2.svg';\r\nimport { authenticationUnsplash, unsplash } from '../../apis/unsplash';\r\n\r\nconst UnregisterPage = () => {\r\n    return <div>\r\n        <button className=\"btn btn-outline-primary auth-btn\" onClick={ev=>{authenticationUnsplash(unsplash);}}>Авторизация</button>\r\n        <embed className=\"figure-image\" src={maskFigure}></embed>\r\n    </div>;\r\n}\r\n\r\nexport default UnregisterPage;","import React from 'react';\nimport { BrowserRouter as Router, Route, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getUser, getToken, unsplash } from './apis/unsplash';\nimport Header from './components/header/index';\nimport Home from './containers/home/index';\nimport UnregisterPage from './containers/authpage/index';\nimport { getCookie, setCookie } from './helpers';\n\nimport { changeSettingsAction, setMyInfoAction } from './actions/index';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { state, changeSettingsAction, setMyInfoAction, routeLocation } = this.props;\n\n    document.onkeyup = function (e) {\n      if (e.key == \"Escape\" || e.code == \"Escape\") {\n        routeLocation.history.push('/');\n      }\n    }\n\n    window.token = getCookie(\"token\");\n    const getAsync = async () => {\n      if (window.location.search.split('code=')[1]) {\n        await getToken(unsplash, window.location.search.split('code=')[1]);\n        window.token = getCookie(\"token\");\n      } else if (window.token) {\n        getToken(unsplash);\n      }\n      if (!window.localStorage['user'] && window.token) {\n        let data = await getUser(unsplash);\n        if (data) {\n          window.localStorage['user'] = JSON.stringify(data);\n        }\n      }\n      if (window.localStorage['user'] && !Object.keys(state.user_info).length) {\n        setMyInfoAction(JSON.parse(window.localStorage['user']));\n      }\n      if (window.location.search.split('code=')[1]) {\n        routeLocation.history.push('/');\n      }\n    }\n    getAsync();\n    \n    if (!getCookie(\"token\") || !window.localStorage['keycode']) {\n      return <div>\n        <Header />\n        <UnregisterPage />\n      </div>;\n    } else if (window.localStorage['user']) {\n      return <div className=\"App\">\n            <Header state={ state } changeSettingsAction={ changeSettingsAction } />\n            <Route exact path=\"/*\" render={(ev) => <Home state={state} route={ev} /> } />\n          </div>;\n    } else {\n      return <b>Лимит запросов исчерпан или что-то пошло не так!</b>;\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    state: state,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setMyInfoAction: (info) => {\n      dispatch(setMyInfoAction(info));\n    },\n    changeSettingsAction: (status) => {\n      dispatch(changeSettingsAction(status));\n    }\n  }\n}\n\nApp = connect(mapStateToProps, mapDispatchToProps)(App);\n\nexport default App;\n","\"use strict\";\nimport * as serviceWorker from './serviceWorker';\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducers from './reducers/index';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport App from './router';\nimport './style.scss';\n\nconst settings = window.localStorage['settings'] ? JSON.parse(window.localStorage['settings']) : window.localStorage['settings'] = JSON.stringify({\n    date: false,\n    blur: true\n});\n\nconst store = createStore(reducers, { user_info: {}, images: [], settings: {...settings}, popup_image: { id: -1, state: {}, image: {} } });\n\nrender(<Provider store={store}><Router><Route exact path=\"*\" render={ (ev)=><App routeLocation={ev} />} /></Router></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n\nlet deferredPrompt = null;\n\n","module.exports = __webpack_public_path__ + \"static/media/61731.5fc44516.svg\";","module.exports = __webpack_public_path__ + \"static/media/291212.ab11192f.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo2.eceedf32.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.c4c396d3.svg\";","module.exports = __webpack_public_path__ + \"static/media/126488.2e61c3f5.svg\";","module.exports = __webpack_public_path__ + \"static/media/MaskFigureUnregister2.9657789f.svg\";"],"sourceRoot":""}