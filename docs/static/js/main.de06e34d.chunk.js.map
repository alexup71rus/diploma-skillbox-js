{"version":3,"sources":["serviceWorker.js","reducers/index.js","helpers.js","apis/unsplash.js","components/header/index.js","components/popup/index.js","actions/index.js","containers/home/index.js","containers/authpage/index.js","router.js","index.js","img/svg/61731.svg","img/svg/291212.svg","img/svg/logo2.svg","img/svg/close.svg","img/svg/126488.svg","img/svg/MaskFigureUnregister2.svg"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","reducers","arguments","length","undefined","action","newState","Object","objectSpread","type","user_info","info","images","concat","toConsumableArray","map","image","i","id","liked_by_user","likes","popup_image","keys","arr","item","index","settings","getCookie","name","matches","document","cookie","RegExp","replace","decodeURIComponent","setCookie","value","options","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","DEFS","unsplash","Unsplash","applicationId","secret","callbackUrl","getToken","code","auth","setBearerToken","userAuthentication","res","text","localStorage","date","setDate","getDate","JSON","parse","access_token","getPhotos","start","end","photos","listPhotos","errors","likePhoto","unlikePhoto","Header","_ref","changeSettingsAction","linkSelf","links","html","react_default","a","createElement","className","href","src","process","logo","width","height","alt","style","color","fontSize","role","data-toggle","aria-haspopup","aria-expanded","first_name","right","left","aria-labelledby","target","rel","marginLeft","defaultChecked","onChange","ev","result","newSettings","stringify","htmlFor","blur","onClick","setItem","assign","preventDefault","Popup","props","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_this$props","route","popupImageAction","likeImageAction","querySelector","classList","add","body","overflow","Link","to","closeSVG","user","profile_image","small","username","download","downloadSVG","liked","like","urls","regular","remove","updated_at","getPhoto","pathname","split","json","React","Component","setMyInfoAction","indexImages","loadingImages","debounce","asyncToGenerator","regenerator_default","mark","_callee","addImagesAction","scrolled","wrap","_context","prev","next","pageYOffset","documentElement","scrollTop","innerHeight","clientHeight","sent","stop","_x","_x2","_x3","apply","Home","onscroll","Route","path","render","components_popup","lib_default","elementType","transitionDuration","originTop","fitWidth","disableImagesLoaded","liked_by","key","minHeight","minWidth","backgroundColor","connect","dispatch","UnregisterPage","authenticationUrl","getAuthenticationUrl","authenticationUnsplash","maskFigure","App","routeLocation","token","data","search","currentUser","profile","history","push","getAsync","components_header","exact","containers_home","containers_authpage","status","store","createStore","es","BrowserRouter","router","getElementById","URL","origin","addEventListener","fetch","response","contentType","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.de06e34d.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const reducers = (state = [], action) => {\r\n    let newState = {...state};\r\n    switch (action.type) {\r\n        case 'SET_MY_INFO':\r\n        newState.user_info = action.info;\r\n        return {...newState};\r\n\r\n        case 'ADD_IMAGES':\r\n        newState.images = [...state.images, ...action.images];\r\n        return {...newState};\r\n\r\n        case 'TOGGLE_LIKE':\r\n        newState.images = state.images.map((image, i)=>{\r\n            if(i === action.id){\r\n                if (image.liked_by_user == true) {\r\n                    image.liked_by_user = false;\r\n                    image.likes--;\r\n                } else if (image.liked_by_user == false) {\r\n                    image.liked_by_user = true;\r\n                    image.likes++;\r\n                }\r\n                return image;\r\n            }\r\n            return image;\r\n        });\r\n        return {...newState};\r\n\r\n        case 'POPUP_IMAGE':\r\n        newState.popup_image = {\r\n            id: action.id,\r\n            state: action.state,\r\n            image: action.image\r\n        };\r\n        return {...newState};\r\n\r\n        case 'CHANGE_SETTINGS':\r\n        Object.keys(action.arr).map((item, index) => {\r\n            if (newState.settings[item] !== undefined) {\r\n                newState.settings[item] = action.arr[item];\r\n            }\r\n        });\r\n        return {...newState};\r\n\r\n        default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default reducers;","export function getCookie(name) {\r\n    var matches = document.cookie.match(new RegExp(\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"));\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nexport function setCookie(name, value, options) {\r\n    options = options || {};\r\n\r\n    var expires = options.expires;\r\n\r\n    if (typeof expires == \"number\" && expires) {\r\n        var d = new Date();\r\n        d.setTime(d.getTime() + expires * 1000);\r\n        expires = options.expires = d;\r\n    }\r\n    if (expires && expires.toUTCString) {\r\n        options.expires = expires.toUTCString();\r\n    }\r\n\r\n    value = encodeURIComponent(value);\r\n\r\n    var updatedCookie = name + \"=\" + value;\r\n\r\n    for (var propName in options) {\r\n        updatedCookie += \"; \" + propName;\r\n        var propValue = options[propName];\r\n        if (propValue !== true) {\r\n            updatedCookie += \"=\" + propValue;\r\n        }\r\n    }\r\n\r\n    document.cookie = updatedCookie;\r\n}\r\n\r\nexport function deleteCookie(name) {\r\n    setCookie(name, \"\", {\r\n      expires: -1\r\n    })\r\n}\r\n\r\nexport function invertColor(rColor) {\r\n    return (parseInt(rColor, 20) ^ 0xFFFFFF | 0x1000000).toString(16).substring(1);\r\n}","import Unsplash from 'unsplash-js';\r\nimport { getCookie, setCookie } from '../helpers';\r\n\r\nconst DEFS = {\r\n    accessKey: \"2e0b887662588b73126393d4d2621056982214f0414d16a8434a7e2386466cc7\",\r\n    secretkey: \"569797e0eaec6cd9a46412ef0043b548c87e1ae6ad7ca45e8147aa5fe0cacda3\",\r\n    callbackUrl: \"http://cdn.khodyr.ru/any/unsplash.php\"\r\n}\r\n\r\n// Инициализация\r\nexport const unsplash = new Unsplash({\r\n    applicationId: DEFS.accessKey,\r\n    secret: DEFS.secretkey,\r\n    callbackUrl: DEFS.callbackUrl\r\n});\r\n\r\nexport const authenticationUnsplash = (unsplash) => {\r\n    // Генерирует ссылку для авторизации с указанными правами\r\n    const authenticationUrl = unsplash.auth.getAuthenticationUrl([\r\n        \"public\",\r\n        \"write_likes\"\r\n    ]);\r\n\r\n    window.location.assign(authenticationUrl); // Перенапревление на авторизацию в unsplash\r\n}\r\n\r\nexport const getToken = (unsplash, code) => {\r\n    if (getCookie(\"token\")) {\r\n        return unsplash.auth.setBearerToken(getCookie(\"token\"));\r\n    } else if (code) {\r\n        return unsplash.auth.userAuthentication(code)\r\n            .then(res => res.text())\r\n            .then(res => {\r\n                if (res && res != \"Rate Limit Exceeded\") {\r\n                    window.localStorage['keycode'] = code;\r\n                    let date = new Date;\r\n                    date.setDate(date.getDate() + 1);\r\n                    setCookie(\"token\", JSON.parse(res).access_token, {\r\n                        expires: date.toUTCString()\r\n                    });\r\n                    unsplash.auth.setBearerToken(JSON.parse(res).access_token);\r\n                } else { console.error(\"Лимит запросов исчерпан!\"); }\r\n        });\r\n    }\r\n}\r\n\r\nexport const getUser = (unsplash) => {\r\n    return unsplash.currentUser.profile()\r\n      .then(res => res.text())\r\n      .then(res => {\r\n        if (res && res != \"Rate Limit Exceeded\" && !JSON.parse(res).errors) { return JSON.parse(res); }\r\n        else { console.error(\"Лимит запросов исчерпан!\"); }\r\n      })\r\n}\r\n  \r\nexport const getPhotos = (unsplash, start = 1, end = 15) => {\r\n    return (\r\n      unsplash.photos.listPhotos(start, end, 'latest')\r\n        .then(res => res.text())\r\n        .then(res => {\r\n            if (res != \"Rate Limit Exceeded\" && !JSON.parse(res).errors) { return JSON.parse(res); }\r\n            else { console.error(\"Лимит запросов исчерпан!\"); }\r\n        })\r\n    )\r\n}\r\n  \r\nexport const likePhoto = (unsplash, image) => {\r\n    if (image.liked_by_user === true) {\r\n        return (\r\n            unsplash.photos.unlikePhoto(image.id)\r\n              .then(res => res.text())\r\n              .then(res => {\r\n                  if (res != \"Rate Limit Exceeded\" && !JSON.parse(res).errors) { return JSON.parse(res); }\r\n                  else { console.error(\"Лимит запросов исчерпан!\"); }\r\n              })\r\n          )\r\n    } else if (image.liked_by_user === false) {\r\n        return (\r\n            unsplash.photos.likePhoto(image.id)\r\n              .then(res => res.text())\r\n              .then(res => {\r\n                  if (res != \"Rate Limit Exceeded\" && !JSON.parse(res).errors) { return JSON.parse(res); }\r\n                  else { console.error(\"Лимит запросов исчерпан!\"); }\r\n              })\r\n          )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './index.scss';\r\nimport logo from '../../img/svg/logo2.svg';\r\nimport { deleteCookie } from '../../helpers';\r\n\r\nconst Header = ({ state, changeSettingsAction }) => {\r\n  if (state && state.user_info){\r\n    let linkSelf = state.user_info.links?state.user_info.links.html:'#';\r\n    return <header className=\"app-header\">\r\n      <nav className=\"navbar navbar-light bg-light\">\r\n        <a className=\"navbar-brand\" href=\"#\">\r\n          <img src={process.env.PUBLIC_URL + logo} width=\"30\" height=\"30\" className=\"d-inline-block align-top\" alt=\"\" /> <span className=\"logo-text\">UNSPLASH</span> <span style={{color: \"#999\", fontSize: \"13px\"}}>viewer</span>\r\n        </a>\r\n        <li className=\"nav-item dropdown\">\r\n          <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdownMenuLink\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n            <span className=\"username\">{state.user_info.first_name}</span>\r\n          </a>\r\n          <div className=\"dropdown-menu dropdown-menu-right\" style={{right: '0px', width: '225px', left: 'auto'}} aria-labelledby=\"navbarDropdownMenuLink\">\r\n            <a className=\"dropdown-item\" href={linkSelf} target=\"_blank\" rel=\"noopener noreferrer\">Профиль</a>\r\n            <div className=\"dropdown-divider\"></div>\r\n            <h6 className=\"dropdown-header\">Настройки</h6>\r\n            <div style={{marginLeft: '10px'}}>\r\n              <div className=\"custom-control custom-checkbox\">\r\n                <input type=\"checkbox\" className=\"custom-control-input\" id=\"dateSet\" defaultChecked={state.settings.date} onChange={ev=>{\r\n                  const result = !state.settings.date;\r\n                  changeSettingsAction({date: result});\r\n                  const newSettings = JSON.parse(window.localStorage[\"settings\"]);\r\n                  newSettings[\"date\"] = result;\r\n                  window.localStorage[\"settings\"] = JSON.stringify(newSettings);\r\n                }} />\r\n                <label className=\"custom-control-label\" htmlFor=\"dateSet\">Показывать дату</label>\r\n              </div>\r\n              <div className=\"custom-control custom-checkbox\">\r\n                <input type=\"checkbox\" className=\"custom-control-input\" id=\"blurSet\" defaultChecked={state.settings.blur} onChange={ev=>{\r\n                  const result = !state.settings.blur;\r\n                  changeSettingsAction({blur: !state.settings.blur});\r\n                  const newSettings = JSON.parse(window.localStorage[\"settings\"]);\r\n                  newSettings[\"blur\"] = result;\r\n                  window.localStorage[\"settings\"] = JSON.stringify(newSettings);\r\n                }} />\r\n                <label className=\"custom-control-label\" htmlFor=\"blurSet\">Размытие фона popup</label>\r\n              </div>\r\n            </div>\r\n            <div className=\"dropdown-divider\"></div>\r\n            <a className=\"dropdown-item\" href=\"/\" onClick={ev=>{\r\n                  deleteCookie('token');\r\n                  window.localStorage.setItem('user', '');\r\n                  window.location.assign('/');\r\n                }}>Выйти</a>\r\n          </div>\r\n        </li>\r\n      </nav>\r\n    </header>;\r\n  } else {\r\n    return <header className=\"app-header\">\r\n      <nav className=\"navbar navbar-light bg-light\">\r\n        <a className=\"navbar-brand\" href=\"#\" onClick={ev=>ev.preventDefault()}>\r\n          <img src={logo} width=\"30\" height=\"30\" className=\"d-inline-block align-top\" alt=\"\" /> <span className=\"logo-text\">UNSPLASH</span> <span style={{color: \"#999\", fontSize: \"13px\"}}>viewer</span>\r\n        </a>\r\n      </nav>\r\n    </header>;\r\n  }\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport { unsplash } from '../../apis/unsplash';\r\nimport closeSVG from '../../img/svg/close.svg';\r\nimport downloadSVG from '../../img/svg/126488.svg';\r\nimport like from '../../img/svg/61731.svg';\r\nimport liked from '../../img/svg/291212.svg';\r\nimport './index.scss';\r\n\r\nclass Popup extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const { route, state, popupImageAction, likePhoto, likeImageAction } = this.props;\r\n        if(document.querySelector('.photos-grid-view') && state.settings.blur) {\r\n            document.querySelector('.photos-grid-view').classList.add('blur');\r\n            document.querySelector('.navbar').classList.add('blur');\r\n        }\r\n        document.body.style.overflow = 'hidden';\r\n        if(state.popup_image.id > -1) {\r\n            return <div className=\"popup\">\r\n                <Link to=\"/\">\r\n                    <div className=\"bg-popup\" ></div>\r\n                </Link>\r\n                <div className=\"popup-component\">\r\n                    <Link to=\"/\">\r\n                        <div className=\"close-popup-bg\" ></div>\r\n                        <img src={closeSVG} alt=\"\" className=\"close-btn\"  />\r\n                    </Link>\r\n                    <div className=\"popupContainer\">\r\n                        <div className=\"popup_header\">\r\n                            <div className=\"popup_user-card\">\r\n                                <img src={state.popup_image.image.user.profile_image.small} alt=\"\" className=\"popup_profile-image\" />\r\n                                <div className=\"popup_profile-links\">\r\n                                    <b className=\"popup_user-card__user-name\"> {state.popup_image.image.user.name}</b>\r\n                                    <br/>\r\n                                    <b> <a href={state.popup_image.image.user.links.html} target=\"_blank\" rel=\"noopener noreferrer\" className=\"popup_user-card__user-login\">@{state.popup_image.image.user.username}</a></b>\r\n                                </div>\r\n                            </div>\r\n                            <a href={state.popup_image.image.links.download} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                <img src={downloadSVG} alt=\"\" className=\"download\" />\r\n                            </a>\r\n                            <button className=\"like-button popup-like\" onClick={ev=>{\r\n                                likePhoto(unsplash, state.popup_image.image);\r\n                                likeImageAction(unsplash, state.popup_image.id, state.popup_image.image)}\r\n                            }>\r\n                                <img src={state.popup_image.image.liked_by_user?liked:like} alt=\"like\" className=\"like-small\" />\r\n                                <span className=\"likes\">{state.popup_image.image.likes}</span>\r\n                            </button>\r\n                        </div>\r\n                        <img src={state.popup_image.image.urls.regular} alt=\"\" className=\"image i-max\" onClick={ev=>{\r\n                            if(ev.target.classList[1] == 'i-max') {\r\n                                ev.target.classList.remove('i-max');\r\n                                ev.target.classList.add('i-min');\r\n                            } else if (ev.target.classList[1] == 'i-min') {\r\n                                ev.target.classList.remove('i-min');\r\n                                ev.target.classList.add('i-max');\r\n                            }\r\n                        }} />\r\n                        {state.settings.date?<div className=\"popup_date-owner\">{state.popup_image.image.updated_at}</div>:null}\r\n                    </div>\r\n                </div>\r\n            </div>;\r\n        } else {\r\n            if(state.popup_image.id == -1) {\r\n                popupImageAction(-2, {/* state */}, {});\r\n                unsplash.photos.getPhoto(route.location.pathname.split('/')[2])\r\n                .then(res => res.json())\r\n                .then(json => {\r\n                    popupImageAction(9999, {/* state */}, json);\r\n                });\r\n            }\r\n            return <div className=\"popup\">\r\n                <div className=\"loading bg-popup\">\r\n                    <Link to=\"/\" className=\"btn btn-outline-primary btn-cancel\">Отменить</Link>\r\n                </div>\r\n            </div>;\r\n        }\r\n    }\r\n}\r\n\r\nexport default Popup;","export const setMyInfoAction = (info) => {\r\n    return {\r\n        type: 'SET_MY_INFO',\r\n        info: info\r\n    }\r\n}\r\n\r\nexport const addImagesAction = (images) => {\r\n    return {\r\n        type: 'ADD_IMAGES',\r\n        images: images\r\n    }\r\n}\r\n\r\nexport const likeImageAction = (unsplash, id, image) => {\r\n    return {\r\n        type: 'TOGGLE_LIKE',\r\n        id: id,\r\n        unsplash: unsplash,\r\n        image: image,\r\n    }\r\n}\r\n\r\nexport const popupImageAction = (id, state, image) => {\r\n    return {\r\n        type: 'POPUP_IMAGE',\r\n        id: id,\r\n        state: state,\r\n        image: image\r\n    }\r\n}\r\n\r\nexport const changeSettingsAction = (arr) => {\r\n    return {\r\n        type: 'CHANGE_SETTINGS',\r\n        arr: arr\r\n    }\r\n}","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport { connect, Provider } from 'react-redux';\r\nimport Masonry from 'react-masonry-component';\r\nimport Popup from '../../components/popup/index';\r\nimport './index.scss';\r\nimport like from '../../img/svg/61731.svg';\r\nimport liked from '../../img/svg/291212.svg';\r\nimport { getPhotos, likePhoto, unsplash } from '../../apis/unsplash';\r\nimport { addImagesAction, likeImageAction, popupImageAction, setMyInfoAction } from '../../actions/index';\r\nimport { invertColor } from '../../helpers';\r\n\r\nlet indexImages = 1;\r\nlet loadingImages = false;\r\nconst debounce = async (addImagesAction, unsplash, state) => {\r\n    let scrolled = window.pageYOffset || document.documentElement.scrollTop;\r\n    if (window.innerHeight + scrolled >= document.body.clientHeight - 300) {\r\n        if(!loadingImages) {\r\n            loadingImages = true;\r\n            const res = await getPhotos(unsplash, indexImages, 20);\r\n            if (res && Object.keys(res).length) {\r\n                indexImages++;\r\n                addImagesAction(res);\r\n                loadingImages = false;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass Home extends React.Component {\r\n    render() {\r\n        const { state, route, addImagesAction, popupImageAction, likeImageAction } = this.props;\r\n        if (!Object.keys(state.user_info).length) {\r\n            setMyInfoAction(JSON.parse(window.localStorage['user']));\r\n        }\r\n        if (state.images.length === 0) {\r\n            debounce(addImagesAction, unsplash, state);\r\n        }\r\n        window.onscroll = function() {\r\n            debounce(addImagesAction, unsplash, state);\r\n        }\r\n    \r\n        if(document.querySelector('.photos-grid-view')) {\r\n            document.querySelector('.photos-grid-view').classList.remove('blur');\r\n            document.querySelector('.navbar').classList.remove('blur');\r\n        }\r\n        document.body.style.overflow = 'overlay';\r\n        return <div className=\"home-container\">\r\n            <Route path=\"/:image\" render={ (ev)=><Popup route={ev} state={state} popupImageAction={popupImageAction} likePhoto={likePhoto} likeImageAction={likeImageAction} /> } />\r\n            <Masonry\r\n                className={ 'photos-grid-view' }\r\n                elementType={'div'}\r\n                options={{ transitionDuration: 0, originTop: true, fitWidth: true }}\r\n                disableImagesLoaded={false}\r\n            >\r\n                {\r\n                    state.images.map((image, i)=>{\r\n                        let liked_by = image.liked_by_user?liked:like;\r\n                        return <figure key={i} className=\"figure\" style={{minHeight: 195}}>\r\n                            <Link to={\"/image/\" + image.id}>\r\n                                <img src={image.urls.small} className=\"figure-img img-fluid rounded\" alt=\"image\" style={{minHeight: '195px', minWidth: '100%', backgroundColor: image.color}} onClick={ev=>popupImageAction(i, {/* state */}, image)}/>\r\n                            </Link>\r\n                            {\r\n                                state.settings.date ? <span className=\"owner-date\">{image.updated_at}</span> : null\r\n                            }\r\n                            <figcaption className=\"figure-caption text-right\">\r\n                                <a href={image.user.links.html} target=\"_blank\" rel=\"noopener noreferrer\" className=\"owner\"><b>{image.user.name}</b></a>\r\n                                <button className=\"like-button\" onClick={ev=>{\r\n                                    likePhoto(unsplash, image);\r\n                                    likeImageAction(unsplash, i, image);\r\n                                }}>\r\n                                    <img src={liked_by} alt=\"\" className=\"like-small\"/>\r\n                                    <span className=\"likes\">{image.likes}</span>\r\n                                </button>\r\n                            </figcaption>\r\n                        </figure>;\r\n                    })\r\n                }\r\n            </Masonry>\r\n            </div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      state: state,\r\n    }\r\n  }\r\n  \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addImagesAction: (images) => {\r\n            dispatch(addImagesAction(images));\r\n        },\r\n        popupImageAction: (id, state, image) => {\r\n            dispatch(popupImageAction(id, state, image));\r\n        },\r\n        likeImageAction: (unsplash, id, image) => {\r\n            dispatch(likeImageAction(unsplash, id, image));\r\n        }\r\n    }\r\n}\r\n  \r\nHome = connect(mapStateToProps, mapDispatchToProps)(Home);\r\n\r\nexport default Home;\r\n\r\n","import React, { Component } from 'react';\r\nimport './index.scss';\r\nimport maskFigure from '../../img/svg/MaskFigureUnregister2.svg';\r\nimport { authenticationUnsplash, unsplash } from '../../apis/unsplash';\r\n\r\nconst UnregisterPage = () => {\r\n    return <div>\r\n        <button className=\"btn btn-outline-primary auth-btn\" onClick={ev=>{authenticationUnsplash(unsplash);}}>Авторизация</button>\r\n        <embed className=\"figure-image\" src={process.env.PUBLIC_URL + maskFigure}></embed>\r\n    </div>;\r\n}\r\n\r\nexport default UnregisterPage;","import React from 'react';\nimport { BrowserRouter as Router, Route, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getUser, getToken, unsplash } from './apis/unsplash';\nimport Header from './components/header/index';\nimport Home from './containers/home/index';\nimport UnregisterPage from './containers/authpage/index';\nimport { getCookie, setCookie } from './helpers';\n\nimport { changeSettingsAction, setMyInfoAction } from './actions/index';\n\nclass App extends React.Component {\n  render() {\n    const { state, changeSettingsAction, setMyInfoAction, routeLocation } = this.props;\n    window.token = getCookie(\"token\");\n    const getAsync = async () => {\n      if (window.location.search.split('code=')[1]) {\n        await getToken(unsplash, window.location.search.split('code=')[1]);\n        window.token = getCookie(\"token\");\n      } else if (window.token) {\n        getToken(unsplash);\n      }\n      if (!window.localStorage['user'] && window.token) {\n        let data = await getUser(unsplash);\n        if (data) {\n          window.localStorage['user'] = JSON.stringify(data);\n        }\n      }\n      if (window.localStorage['user'] && !Object.keys(state.user_info).length) {\n        setMyInfoAction(JSON.parse(window.localStorage['user']));\n      }\n      if (window.location.search.split('code=')[1]) {\n        routeLocation.history.push('/');\n      }\n    }\n    getAsync();\n    \n    if (!getCookie(\"token\") || !window.localStorage['keycode']) {\n      return <div>\n        <Header />\n        <UnregisterPage />\n      </div>;\n    } else if (window.localStorage['user']) {\n      return <div className=\"App\">\n            <Header state={ state } changeSettingsAction={ changeSettingsAction } />\n            <Route exact path=\"/*\" render={ (ev)=><Home state={state} route={ev} /> } />\n          </div>;\n    } else {\n      return <b>Лимит запросов исчерпан или что-то пошло не так!</b>;\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    state: state,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setMyInfoAction: (info) => {\n      dispatch(setMyInfoAction(info));\n    },\n    changeSettingsAction: (status) => {\n      dispatch(changeSettingsAction(status));\n    }\n  }\n}\n\nApp = connect(mapStateToProps, mapDispatchToProps)(App);\n\nexport default App;\n","\"use strict\";\nimport * as serviceWorker from './serviceWorker';\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducers from './reducers/index';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport App from './router';\nimport './style.scss';\n\nconst settings = window.localStorage['settings'] ? JSON.parse(window.localStorage['settings']) : window.localStorage['settings'] = JSON.stringify({\n    date: false,\n    blur: true\n});\n\nconst store = createStore(reducers, { user_info: {}, images: [], settings: {...settings}, popup_image: { id: -1, state: {}, image: {} } });\n\nrender(<Provider store={store}><Router><Route exact path=\"*\" render={ (ev)=><App routeLocation={ev} />} /></Router></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();","module.exports = __webpack_public_path__ + \"static/media/61731.5fc44516.svg\";","module.exports = __webpack_public_path__ + \"static/media/291212.ab11192f.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo2.eceedf32.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.c4c396d3.svg\";","module.exports = __webpack_public_path__ + \"static/media/126488.2e61c3f5.svg\";","module.exports = __webpack_public_path__ + \"static/media/MaskFigureUnregister2.9657789f.svg\";"],"sourceRoot":""}